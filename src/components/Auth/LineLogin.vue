<template lang="pug">
//- è«‹å¡«å¯«åŠŸèƒ½æè¿°ğŸ‘ˆ
#LineLogin
  img.line-login-btn(src="/imgs/btn_login_press.png" @click="LineLogin")
  //- Button.line-login-btn(@click="LineLogin") {{ "Line Login Button" }}
</template>

<script>
export default {
  name: "LineLogin",
  data() {
    return {};
  },
  methods: {
    LineLogin() {
      // è¨­å®šæœƒç”¨åˆ°çš„åƒæ•¸
      let urlQuery = {
        response_type: "code",  // æœƒå›å‚³åƒæ•¸åcodeçš„æˆæ¬Šç¢¼
        client_id: "1661076147",  // line dev å»ºç«‹çš„ channel ID
        redirect_uri: "http://localhost:8080/timer",  // line dev è¨­å®šç™»å…¥å¾Œè¦å¼•å°åˆ°å“ªä¸€é 
        state: "login", // è‡ªè¨‚é©—è­‰ç¢¼ï¼Œéš¨ä¾¿å¡«
        scope: "profile%20openid%20email" // è¦å–å¾—userçš„å“ªäº›è³‡æ–™ï¼Œå»docsçœ‹ï¼Œå¦‚æœè¦ email é‚„è¦å…ˆç‰¹åˆ¥è¨­å®š
      }

      // è¦å›å‚³çš„ URL
      let URL = "https://access.line.me/oauth2/v2.1/authorize?";
      URL += `response_type=${urlQuery.response_type}`;
      URL += `&client_id=${urlQuery.client_id}`;
      URL += `&redirect_uri=${urlQuery.redirect_uri}`;
      URL += `&state=${urlQuery.state}`;
      URL += `&scope=${urlQuery.scope}`;
      console.log(URL)
      
      // é‡æ–°å°å‘ URL
      window.location.href = URL
    }
  }
};
</script>

<style lang="scss" scoped>
// æ’ç‰ˆ
#LineLogin {}

// å…ƒä»¶
#LineLogin {
  .line-login-btn {
    width: 150px;

    &:active {
      transform: scale(0.99);
    }
  }
}
</style>
